{"ast":null,"code":"import _defineProperty from \"/home/gits/Desktop/onlineshopping/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/gits/Desktop/onlineshopping/src/components/ProductList.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport '../css/ProductList.css';\nimport Slider from '../containers/Slider';\nimport axios from 'axios';\nimport Filter from './Filter';\nimport { productListURL } from \"../constants\";\nimport { Menu, Icon, Pagination } from 'antd';\nconst SubMenu = Menu.SubMenu;\n\nclass ProductList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      size: '',\n      sort: '',\n      cartItems: [],\n      products: [],\n      filteredProducts: [],\n      loading: false,\n      error: null,\n      data: [],\n      openKeys: ['sub1']\n    };\n    this.rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\n\n    this.handleRemoveFromCart = (e, product) => {\n      this.setState(state => {\n        const cartItems = state.cartItems.filter(a => a.id !== product.id);\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return {\n          cartItems: cartItems\n        };\n      });\n    };\n\n    this.handleAddToCart = (e, product) => {\n      this.setState(state => {\n        const cartItems = state.cartItems;\n        let productAlreadyInCart = false;\n        cartItems.forEach(cp => {\n          if (cp.id === product.id) {\n            cp.count += 1;\n            productAlreadyInCart = true;\n          }\n        });\n\n        if (!productAlreadyInCart) {\n          cartItems.push(_objectSpread({}, product, {\n            count: 1\n          }));\n        }\n\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return {\n          cartItems: cartItems\n        };\n      });\n    };\n\n    this.listProducts = () => {\n      this.setState(state => {\n        if (state.sort !== '') {\n          state.products.sort((a, b) => state.sort === 'lowestprice' ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1);\n        } else {\n          state.products.sort((a, b) => a.id > b.id ? 1 : -1);\n        }\n\n        if (state.size !== '') {\n          return {\n            filteredProducts: state.product && state.product.filter(a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0)\n          };\n        }\n\n        return {\n          filteredProducts: state.product\n        };\n      });\n    };\n\n    this.handleSortChange = e => {\n      this.setState({\n        sort: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.handleSizeChange = e => {\n      this.setState({\n        size: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.handleClick = e => {\n      console.log('hover', e);\n    };\n\n    this.onOpenChange = openKeys => {\n      const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\n\n      if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        this.setState({\n          openKeys\n        });\n      } else {\n        this.setState({\n          openKeys: latestOpenKey ? [latestOpenKey] : []\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    axios.get(productListURL).then(res => {\n      this.setState({\n        data: res.data,\n        loading: false\n      });\n    }).catch(err => {\n      this.setState({\n        error: err,\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    // const products = this.state.products.slice(0, this.state.showItems);\n    const data = this.state.data;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default ProductList;","map":{"version":3,"sources":["/home/gits/Desktop/onlineshopping/src/components/ProductList.js"],"names":["React","Component","Slider","axios","Filter","productListURL","Menu","Icon","Pagination","SubMenu","ProductList","state","size","sort","cartItems","products","filteredProducts","loading","error","data","openKeys","rootSubmenuKeys","handleRemoveFromCart","e","product","setState","filter","a","id","localStorage","setItem","JSON","stringify","handleAddToCart","productAlreadyInCart","forEach","cp","count","push","listProducts","b","price","availableSizes","indexOf","toUpperCase","handleSortChange","target","value","handleSizeChange","handleClick","console","log","onOpenChange","latestOpenKey","find","key","componentDidMount","get","then","res","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport '../css/ProductList.css';\nimport Slider from '../containers/Slider';\nimport axios from 'axios';\nimport Filter from './Filter';\nimport { productListURL} from \"../constants\";\n\n\n\n\nimport { Menu, Icon, Pagination} from 'antd';\nconst { SubMenu } = Menu;\n\n\nclass ProductList extends Component {\n  state = {\n    size: '', \n    sort: '', \n    cartItems: [], \n    products: [], \n    filteredProducts: [], \n    loading: false,\n    error: null,\n    data: [],\n    openKeys: ['sub1'],\n  };\n\n  rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\n  \n  componentDidMount() {\n    this.setState({ loading: true });\n    axios\n      .get(productListURL)\n      .then(res => {\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  }\n\n  handleRemoveFromCart = (e, product) => {\n      this.setState(state => {\n        const cartItems = state.cartItems.filter(a => a.id !== product.id);\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return { cartItems: cartItems };\n      })\n    }\n    \n    handleAddToCart = (e, product) => {\n      this.setState(state => {\n        const cartItems = state.cartItems;\n        let productAlreadyInCart = false;\n    \n        cartItems.forEach(cp => {\n          if (cp.id === product.id) {\n            cp.count += 1;\n            productAlreadyInCart = true;\n          }\n        });\n    \n        if (!productAlreadyInCart) {\n          cartItems.push({ ...product, count: 1 });\n        }\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return { cartItems: cartItems };\n      });\n    }\n    \n    listProducts = () => {\n      this.setState(state => {\n        if (state.sort !== '') {\n          state.products.sort((a, b) =>\n            (state.sort === 'lowestprice'\n              ? ((a.price > b.price) ? 1 : -1)\n              : ((a.price < b.price) ? 1 : -1)));\n        } else {\n          state.products.sort((a, b) => (a.id > b.id) ? 1 : -1);\n        }\n        if (state.size !== '') {\n          return { filteredProducts: state.product && state.product.filter(a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0) };\n        }\n        return { filteredProducts: state.product};\n      })\n    }\n    \n    handleSortChange = (e) => {\n      this.setState({ sort: e.target.value });\n      this.listProducts();\n    }\n    handleSizeChange = (e) => {\n      this.setState({ size: e.target.value });\n      this.listProducts();\n    }\n    handleClick = (e)=> {\n      console.log('hover', e);\n    }\n \n  onOpenChange = openKeys => {\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n      this.setState({ openKeys });\n    } else {\n      this.setState({\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\n      });\n    }\n    };\n\n    render() {\n        // const products = this.state.products.slice(0, this.state.showItems);\n        const data = this.state.data;\n\n        return (\n            <div>\n    \n    </div>\n          \n        )\n    }\n}\n\n\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}